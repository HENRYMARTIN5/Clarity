<!DOCTYPE html>
<html>
<title>Clarity Workshop</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wBIrP8ASKz/AEis/wBIrP8ASKz/AEis/wBIrP8ASKz/AAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AEis/wBIrP8ASKz/AEis/wBIrP8ASKz/AEis/wBIrP8AAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAAAAAAAAAAAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AEis/wBIrP8Aa///AGv//wBr//8Aa///AGv//wBr//8Aa///AGv//wBIrP8ASKz/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8ASKz/AEis/wBr//8Aa///AGv//wBr//8Aa///AGv//wBr//8Aa///AEis/wBIrP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wBIrP8ASKz/AGv//wBr//8Aa///AGv//wBr//8Aa///AGv//wBr//8ASKz/AEis/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AEis/wBIrP8Aa///AGv//wBr//8Aa///AGv//wBr//8Aa///AGv//wBIrP8ASKz/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8ASKz/AEis/wBr//8Aa///AGv//wBr//8Aa///AGv//wBr//8Aa///AEis/wBIrP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wBIrP8ASKz/AGv//wBr//8Aa///AGv//wBr//8Aa///AGv//wBr//8ASKz/AEis/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AEis/wBIrP8Aa///AGv//wBr//8Aa///AGv//wBr//8Aa///AGv//wBIrP8ASKz/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8ASKz/AEis/wBr//8Aa///AGv//wBr//8Aa///AGv//wBr//8Aa///AEis/wBIrP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AEis/wBIrP8ASKz/AEis/wBIrP8ASKz/AEis/wBIrP8AAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAAAAAAAAAAAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8ASKz/AEis/wBIrP8ASKz/AEis/wBIrP8ASKz/AEis/wAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAP9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/2FhYf9hYWH/YWFh/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/8AD///AA//8AAA//AAAP/AAAA/wAAAPwAAAA8AAAAPAAAADwAAAAwAAAAMAAAADAAAAAwAAAAMAAAD/AAAA/wAAAP8AAAD/AAAAAwAAAAMAAAADAAAAA8AAAAPAAAADwAAAA8AAAAPwAAAP8AAAD/wAAD/8AAA//8AD///AA/8=" type="image/x-icon">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="loaders.css">
  <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
<style>
  
	body,
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-family: "Raleway", sans-serif;
    color: #FFF
    
	}

  textarea {
  resize: none;
}

  .bkg{
    background-color: #1d1b31;
  }

  .level{
    border: 2px solid #d2bdff;
	background-color: #3c2d52;

        
        }
</style>

<body class="bkg w3-content" style="max-width:1600px">



<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:15px">

  <!-- Header -->
  <header id="portfolio">
    <a href="#"><img src="/w3images/avatar_g2.jpg" style="width:65px;" class="w3-circle w3-right w3-margin w3-hide-large w3-hover-opacity"></a>
    <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()"><i class="fa fa-bars"></i></span>
    <div class="w3-container">
    <h1><b>Clarity Workshop</b></h1><p>Fill in your level information below to upload and publish it!</p><br><br></br><center><a href="account.html">Need an account? Click here!</a></center>
      
    </div>
  </header>

  

    <div id="container">
<center>
    <p>Level Code:</p>
      <input type="text" id="lvlcode">
    <p>Level Name:</p>
      <input type="text" id="lvlname">
    <p>Level Description (Please don't spam, it's just an annoyance):</p>
      <textarea type="text" id="lvldesc" rows="4" cols="50">
    <p>Allow developer commands in level&nbsp;&nbsp;  
      <input type="checkbox" id="devcommands"></p>
    <br></br>
    <button class="btn w3-btn	w3-ripple w3-blue w3-round-large" id="submitbtn" onclick="submit();">Submit to Workshop</button><br></br><br></br>
  </div>
</center>

<!-- End page content -->
</div>

<script>
  const submitbtn = document.getElementById("submitbtn");
  const lvlcodeinp = document.getElementById("lvlcode");
  const lvlnameinp = document.getElementById("lvlname");
  const lvldescinp = document.getElementById("lvldesc");
  const devcmds = document.getElementById("devcommands");
  window.onload = function(){
    console.log("Clarity V1.0.1 API/SDK");
  }

  function httpGet(theUrl)
  {
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
      xmlHttp.send( null );
      return xmlHttp.responseText;
  }

function sendJSON(data) {


    var json = JSON.stringify(data);

    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://clarityworkshop.n3rdl0rd.repl.co/add");
    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.send(json);
}

  window.onload = function(){
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        if(urlParams.has('lvl')){
          lvlcodeinp.value = urlParams.get("lvl");
        }
  }
  function signout(){
    localStorage.setItem("user", null);

    
   window.location.href=window.location.href;
  }

  function signedin(){
    return localStorage.getItem("user");
  }

  function signin(){
    Swal.fire({
  title: 'Login to Clarity',
  html: `<input type="text" id="login" class="swal2-input" placeholder="Username">
  <input type="password" id="password" class="swal2-input" placeholder="Password"><br><a href="account.html">No account? Sign up instead!</a>`,
  confirmButtonText: 'Login',
  focusConfirm: true,
  preConfirm: () => {
    const login = Swal.getPopup().querySelector('#login').value
    const password = Swal.getPopup().querySelector('#password').value
    if (!login || !password) {
      Swal.showValidationMessage(`Please enter login and password`)
    }
    return { login: login, password: password }
  }
}).then((result) => {
    var res = httpGet("https://clarityworkshop.n3rdl0rd.repl.co/login/"+result.value.login+"/"+result.value.password);
    if(res == "ok"){
      localStorage.setItem('user', result.value.login);

    }
      
  })
        }
  
  function submit(){
    if(signedin() == "null" || signedin() == null){
      signin();
      return;

    } else{
      var payload = {
    "code": lvlcodeinp.value, "name": lvlnameinp.value, "desc": lvldescinp.value, "author": signedin()
  }
  sendJSON(payload);
  alert("Submitted!");
  window.location.href="https://henrymartin5.github.io/Clarity/workshop.html";
    }
  }
</script>
</body>
</html>
